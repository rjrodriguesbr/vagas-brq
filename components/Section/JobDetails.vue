<template>
  <section class="sec-details">
    <div class="container mt-2 border-bottom header-sticky">
      <div class="row mb-2">
        <div class="col pt-2 align-items-center">
          <img class="pr-1" src="@/assets/icons/place.svg">
          <small class="text-dark mr-4">Brasil</small>
          <img class="pr-1" src="@/assets/icons/level_pleno.svg">
          <small class="text-dark mr-4">Pleno</small>
          <img class="pr-1" src="@/assets/icons/monetization_on.svg">
          <small class="text-dark mr-4">A Combinar</small>
          <img class="pr-1" src="@/assets/icons/work_outline.svg">
          <small class="text-dark mr-4">Regime CLT</small>
        </div>
        <div class="col-sm-2">
          <b-button @click="setInscricao" variant="success" v-b-tooltip.hover :title="buttonDesc" :disabled="inscricao" squared>{{ buttonTitle }}</b-button>
        </div>
      </div>
    </div>

    <div class="container border-bottom pb-4">
      <div class="row">
        <div class="col-lg-8 pr-5">
          <p class="mt-3 text-brq"><strong>Detalhes da vaga</strong></p>
          <p class="text-break">
            Ei Analista Pleno, chegou o momento de encarar um novo desafio em sua carreira! 
            Venha ser um #ferabrq Sobre a BRQ Digital H√° 28 anos no mercado, a BRQ Digital Solutions se consolidou como uma das maiores empresas de transforma√ß√£o digital do pa√≠s. Com uma plataforma de servi√ßos end to end, oferecemos as mais eficientes e inovadoras solu√ß√µes, tecnologias e metodologias, promovendo uma jornada de transforma√ß√£o para grandes marcas, de diferentes segmentos, no Brasil e no exterior. Nossos 3 mil funcion√°rios atuam no modelo de trabalho Anywhere Office e a empresa √© destaque como um dos melhores lugares para trabalhar pelo GPTW e Glassdoor.   
            <br>
            <br>
            <strong>O que procuramos?</strong><br>
            Buscamos um #fera que sabe que √© o verdadeiro protagonista do seu sucesso! Queremos em nosso time pessoas motivadas por desafios, constante evolu√ß√£o e, claro, que s√£o apaixonadas por tecnologia e transforma√ß√£o!   
            <br>
            <br>
            <strong>O que voc√™ deve ter?</strong><br>
            ‚Ä¢ Boa comunica√ß√£o, um perfil anal√≠tico e proativo; 
            ‚Ä¢ Experi√™ncias com Pacote Office, principalmente Excel e Word 
            ‚Ä¢ Que tenha experi√™ncias com atividades administrativas; 
            ‚Ä¢ Experi√™ncias com contratos. 
            ‚Ä¢ Ser√° umas defer√™ncias ter atuado no setor financeiro ou de tecnologia   
            <br>
            <br>
            <strong>O que temos pra te oferecer? </strong><br>
            Mais do que um plano de carreira! A BRQ acredita que cada fera deve ser protagonista do seu crescimento, tendo autonomia para criar seu pr√≥prio plano de desenvolvimento profissional. Nosso plano de carreira √© dividido em 4 etapas: 
            - Carreira t√©cnica: Voc√™ pode seguir a trilha de crescimento t√©cnico, se o seu objetivo for se desenvolver cada vez mais em diferentes tecnologias. Oferecemos diversos treinamentos! 
            - Mobilidade Interna: Voc√™ quer um novo rumo profissional? Aqui dentro de casa temos diversas op√ß√µes diferentes e o programa de mobilidade interna, que te permite mudar de √°rea, por exemplo. 
            - Experi√™ncia internacional: Estamos crescendo cada vez mais fora do Brasil e voc√™ tem possibilidade de atuar em projetos para outros pa√≠ses, ou diretamente nos pa√≠ses onde a BRQ tem sede. 
            - Empreendedorismo: De funcion√°rio para s√≥cio! Temos o Innovation Hub, a Corporate Venture que investe em ideias de profissionais que tenham sinergia com nosso neg√≥cio. 
            <br>
            <br>
            <strong>E os benef√≠cios? </strong><br>
            Plano de Sa√∫de; Plano Odontol√≥gico; Seguro de Vida; Vale Refei√ß√£o; Vale Alimenta√ß√£o; Hor√°rio Flex√≠vel; Home Office; Gympass, Telemedicina, Telenutri√ß√£o, Canal de suporte emocional 24h e muito mais! 
            <br>
            <br>
            <strong>Como √© trabalhar na BRQ? </strong><br>
            Temos um clima descontra√≠do, diversos programas e eventos internos. Adoramos comemorar! E fazemos isso muito bem! Veja aqui no Youtube: youtube.com/brqdigitalsolutions Curtiu? Ent√£o inscreva-se e venha para o melhor da Transforma√ß√£o Digital com a gente!
          </p>
        </div>
        <div class="col-lg-4">
          <div>
            <p class="mt-3 text-brq"><strong>Requisitos</strong></p>
            <p>Forma√ß√£o superior (cursando)</p>
          </div>
          <div>
            <p class="mt-3 text-brq"><strong>Benef√≠cios</strong></p>
            <div>
              <div>
                <b-card-group class="flex">
                  <b-card class="text-center p-0 border-0">
                    <img src="@/assets/icons/benefits/medical.svg" alt="">
                    <small>Assist√™ncia M√©dica</small>
                  </b-card>

                  <b-card class="text-center border-0">
                    <img src="@/assets/icons/benefits/tooth.svg" alt="">
                    <small>Assist√™ncia Odontol√≥gica</small>
                  </b-card>

                  <b-card class="text-center border-0">
                    <img src="@/assets/icons/benefits/covenant.svg" alt="">
                    <small>Conv√™nio</small>
                  </b-card>

                  <b-card class="text-center border-0">
                    <img src="@/assets/icons/benefits/life.svg" alt="">
                    <small>Seguro de vida</small>
                  </b-card>
                </b-card-group>
              </div>

              <div class="mt-1">
                <b-card-group>
                  <b-card class="text-center border-0">
                    <img src="@/assets/icons/benefits/snack.svg" alt="">
                    <small>Vale-refei√ß√£o</small>
                  </b-card>

                  <b-card class="text-center border-0">
                    <img src="@/assets/icons/benefits/home.svg" alt="">
                    <small>Home Office</small>
                  </b-card>

                  <b-card class="text-center border-0">
                    <img src="@/assets/icons/benefits/flexible.svg" alt="">
                    <small>Hor√°rio flex√≠vel</small>
                  </b-card>

                  <b-card class="text-center border-0">
                    <img src="@/assets/icons/benefits/food.svg" alt="">
                    <small>Vale-Alimenta√ß√£o</small>
                  </b-card>
                </b-card-group>
              </div>
            </div>
          </div>
          <div>
            <p class="mt-3 text-brq"><strong>Conhe√ßa a empresa</strong></p>
            <p>
            H√° 28 anos no mercado, a BRQ Digital Solutions se consolidou como uma das maiores empresas de transforma√ß√£o digital do pa√≠s. Com uma plataforma de servi√ßos end-to-end, oferecemos as mais eficientes e inovadoras solu√ß√µes, tecnologias e metodologias, promovendo uma jornada de transforma√ß√£o para grandes marcas, de diferentes segmentos, no Brasil e no exterior. Nossos 3 mil funcion√°rios atuam no modelo de trabalho Anywhere Office e a empresa √© destaque como um dos melhores lugares para trabalhar pelo GPTW e Glassdoor.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
  export default {
    data() {
      return {
        inscricao: '',
        userInscricao: '',
        vagaId: '',
        buttonDesc: '',
        buttonTitle: 'INSCREVA-SE'
      }
    },
    created() {
      this.$axios.$get(`brqv/vaga?id=${this.$route.params.id}`).then(response => {
        this.$store.commit('jobs/SET_JOB_PAGE', response.data)
        this.vagaId = response.data.id
        if(this.$store.state.login.isLoggin) {
          if (this.$store.state.login.user.candidado_inscricao_vaga) {
            this.userInscricao = this.$store.state.login.user.candidado_inscricao_vaga.split(",")
            this.inscricao = this.userInscricao.includes(response.data[0].id.toString())
            this.buttonTitle = this.inscricao ? "INSCRITO" : "INSCREVA-SE"
            this.buttonDesc = this.inscricao ? "Voc√™ j√° est√° inscrito na vaga!" : "Clique para se inscrever"
          }
            this.vagaId = response.data[0].id
        } else {
          this.buttonDesc = "Fa√ßa seu registro para se inscrever nesta vaga!"
          this.inscricao = false
        }
      })
    },
    methods: {
      async setInscricao() {
        if(this.$store.state.login.isLoggin) {
          await this.$axios.$get(`brqv/user/inscricao`, { params: {
            id: this.$store.state.login.user.id,
            vaga: this.vagaId
          }}).then(response => {
            this.$store.dispatch('login/setLogin', response.data)
            this.$toast.success(`Inscri√ß√£o realizada! üëç`)
            this.inscricao = true
            this.buttonTitle = this.inscricao ? "INSCRITO" : "INSCREVA-SE"
            this.buttonDesc = this.inscricao ? "Voc√™ j√° est√° inscrito na vaga!" : "Clique para se inscrever"
          })
        } else {
          this.$toast.info(`Fa√ßa login ou cadastre-se para se inscrever nesta vaga!`, {
            action : [
              {
                text : 'Entrar',
                onClick : (e, toastObject) => {
                    this.$router.push('/auth/signin')
                }
              },
              {
                text : 'Criar Conta',
                onClick : (e, toastObject) => {
                    this.$router.push('/auth/signup')
                }
              },
            ]
          })
        }
      }
    },
  }
</script>

<style scoped>
  .text-brq {
    color: #006699;
  }
  .sec-details {
    position: relative;
  }
  .header-sticky {
    position: sticky;
    top: 0;
    background-color: #FFF;
    z-index: 99999;
    padding-top: 8px;
  }
</style>